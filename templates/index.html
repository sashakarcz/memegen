<!DOCTYPE html>
<html lang="en">
<head>
    <style>
      /* Override MDL's auto-hide behavior */
      .mdl-layout__header.is-compact {
        height: 64px !important;
      }

      /* Improve Meme Gallery Layout */
      .meme-gallery {
          display: flex;
          flex-wrap: wrap;
          justify-content: center;
          gap: 20px;
          padding: 20px;
      }

      /* Adjust Meme Cards for Mobile */
      .mdl-cell {
          flex: 1 1 30%;
          max-width: 30%;
          min-width: 250px;
      }

      /* Ensure Images Are Displayed Properly */
      .mdl-card img {
          width: 100%;
          height: auto;
          border-radius: 8px;
      }

      /* Improve Header Spacing for Mobile */
      @media (max-width: 768px) {
          .mdl-layout__header-row {
              padding: 0 10px;
          }

          .mdl-layout-title {
              font-size: 1.4rem;
          }
      }
    </style>

    <!-- Disable Rocket Loader for Material Design Lite -->
    <meta http-equiv="x-rocket-loader" content="no">

    <title>Meme Generator</title>

    <!-- Material Design CSS -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/material-design-lite/1.3.0/material.indigo-pink.min.css">
    
    <!-- Material Design JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/material-design-lite/1.3.0/material.min.js"></script>
    
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
        <!-- Header -->
        <header class="mdl-layout__header">
            <div class="mdl-layout__header-row">
                <span class="mdl-layout-title">Memegen</span>
                <div class="mdl-layout-spacer"></div>
                <a href="/generate" class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab mdl-button--colored">
                    <i class="material-icons">add</i>
                </a>
            </div>
        </header>

        <!-- Main Content -->
        <main class="mdl-layout__content">
            <div class="meme-gallery mdl-grid">
                {{range .}}
                <div class="mdl-cell mdl-cell--4-col">
                    <div class="mdl-card mdl-shadow--2dp">
                        <div class="mdl-card__media">
                            <img src="/meme/{{.ID}}" width="100%">
                        </div>
                        <div class="mdl-card__supporting-text">
                            {{.TopText}} / {{.BottomText}}
                        </div>
                        <div class="mdl-card__actions">
                            <form action="/vote/{{.ID}}" method="post">
                                <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored" type="submit">üëç Upvote ({{.Votes}})</button>
                            </form>
                        </div>
                    </div>
                </div>
                {{end}}
            </div>
        </main>
    </div>
</body>
</html>
